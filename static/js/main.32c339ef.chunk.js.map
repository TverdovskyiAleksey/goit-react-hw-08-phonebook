{"version":3,"sources":["redux/auth/auth-selectors.js","redux/auth/auth-operations.js","Components/Navigation/Navigation.module.css","Components/userMenu/UserMenu.module.css","Components/AuthNav/AuthNav.module.css","redux/contacts/contacts-action.js","redux/contacts/contacts-operation.js","redux/contacts/contacts-selection.js","Components/Container/Container.js","styles/AppBar.module.css","Components/Container/Container.module.css","Components/Navigation/Navigation.js","Components/userMenu/default-icon2.png","Components/userMenu/UserMenu.js","Components/AuthNav/AuthNav.js","Components/AppBar.js","Components/userMenu/PrivateRoute.js","Components/userMenu/PublicRoute.js","App.js","redux/contacts/contacts-reducer.js","redux/auth/auth-slice.js","redux/store.js","index.js"],"names":["getIsLoggedIn","state","auth","isLoggedIn","getUserName","user","name","getRefreshing","isRefreshing","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","logIn","logOut","fetchCarrentUser","_","thunkAPI","getState","persistedToken","rejectWithValue","get","module","exports","fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","addContact","number","dispatch","contact","deleteContact","id","delete","then","catch","error","fetchContacts","getContacts","contacts","items","getFilter","filter","getLoading","loading","getVisibleContacts","createSelector","normalizedFilter","toLowerCase","includes","Container","children","className","styles","Navigation","useSelector","authSelectors","nav","to","exact","link","activeClassName","activeLink","UserMenu","useDispatch","avatar","defaultAvatar","img","src","width","alt","text","button","type","variant","onClick","authOperations","AuthNav","AppBar","container","PrivateRoute","component","redirectTo","routeProps","iisLoggedIn","PublicRoute","restricted","shouldRedirect","HomeView","lazy","LoginView","ContactsView","RegisterView","connect","contactsOperations","useEffect","fallback","path","createReducer","payload","combineReducers","authSlice","createSlice","initialState","email","extraReducers","fulfilled","action","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.32c339ef.chunk.js","sourcesContent":["const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUserName = state => state.auth.user.name;\r\n\r\nconst getRefreshing = state => state.auth.isRefreshing;\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  getIsLoggedIn,\r\n  getUserName,\r\n  getRefreshing,\r\n};\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk('auth/register', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/signup', credentials);\r\n    token.set(data.token);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    // TODO: Add error.message\r\n  }\r\n});\r\n\r\nconst logIn = createAsyncThunk('auth/login', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/login', credentials);\r\n    token.set(data.token);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    // TODO: Add error.message\r\n  }\r\n});\r\n\r\nconst logOut = createAsyncThunk('auth/logout', async () => {\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n  } catch (error) {\r\n    // TODO: Add error.message\r\n  }\r\n});\r\n\r\nconst fetchCarrentUser = createAsyncThunk('auth/refresh', async (_, thunkAPI) => {\r\n  const state = thunkAPI.getState();\r\n  const persistedToken = state.auth.token;\r\n\r\n  if (persistedToken === null) {\r\n    return thunkAPI.rejectWithValue();\r\n  }\r\n  token.set(persistedToken);\r\n  try {\r\n    const { data } = await axios.get('/users/current');\r\n    return data;\r\n  } catch (error) {\r\n    // TODO: Add error.message\r\n  }\r\n});\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { register, logIn, logOut, fetchCarrentUser };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3JliI\",\"activeLink\":\"Navigation_activeLink__3oVIy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"UserMenu_user__3hg4R\",\"img\":\"UserMenu_img__2wJBc\",\"text\":\"UserMenu_text__1zWbN\",\"button\":\"UserMenu_button__GD5dG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__1J7Ma\",\"activeLink\":\"AuthNav_activeLink__3z6vQ\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');\r\n","import axios from 'axios';\r\nimport {\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n} from './contacts-action';\r\n\r\n// axios.defaults.baseURL = 'http://localhost:3000';\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst fetchContacts = () => async dispatch => {\r\n  dispatch(fetchContactRequest());\r\n\r\n  try {\r\n    const { data } = await axios.get('/contacts');\r\n    dispatch(fetchContactSuccess(data));\r\n  } catch (error) {\r\n    dispatch(fetchContactError(error));\r\n  }\r\n};\r\n\r\nconst addContact =\r\n  ({ name, number }) =>\r\n  async dispatch => {\r\n    const contact = { name, number };\r\n\r\n    dispatch(addContactRequest());\r\n\r\n    try {\r\n      const { data } = await axios.post('/contacts', contact);\r\n      dispatch(addContactSuccess(data));\r\n    } catch (error) {\r\n      dispatch(addContactError(error));\r\n    }\r\n\r\n    // axios\r\n    //   .post('/contacts', contact)\r\n    //   .then(({ data }) => dispatch(addContactSuccess(data)))\r\n    //   .catch(error => dispatch(addContactError(error)));\r\n  };\r\n\r\nconst deleteContact = id => async dispatch => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`/contacts/${id}`)\r\n    .then(() => dispatch(deleteContactSuccess(id)))\r\n    .catch(error => dispatch(deleteContactError(error)));\r\n\r\n  // try {\r\n  //   const { data } = await axios.delete(`/contacts/${id}`);\r\n  //   dispatch(deleteContactSuccess(data));\r\n  // } catch (error) {\r\n  //   dispatch(deleteContactError(error));\r\n  // }\r\n};\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { addContact, deleteContact, fetchContacts };\r\n","import { createSelector } from 'reselect';\r\n\r\nconst getContacts = state => state.contacts.items;\r\n\r\nconst getLoading = state => state.contacts.loading;\r\n\r\nconst getFilter = state => state.contacts.filter;\r\n\r\nconst getVisibleContacts = createSelector(\r\n  [getContacts, getFilter],\r\n  (contacts, filter) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n\r\n    return contacts.filter(({ name }) =>\r\n      name.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  },\r\n);\r\n\r\n// const getVisibleContacts = state => {\r\n//   const contacts = getContacts(state);\r\n//   const filter = getFilter(state);\r\n//   const normalizedFilter = filter.toLowerCase();\r\n\r\n//   return contacts.filter(({ name }) =>\r\n//     name.toLowerCase().includes(normalizedFilter),\r\n//   );\r\n// };\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  getContacts,\r\n  getFilter,\r\n  getLoading,\r\n  getVisibleContacts,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={styles.Container}>{children}</div>\r\n);\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AppBar_container__35lvZ\",\"button\":\"AppBar_button__3a_WX\",\"Register\":\"AppBar_Register__1KYly\",\"form\":\"AppBar_form__6wSRG\",\"label\":\"AppBar_label__QgtxV\",\"input\":\"AppBar_input__ycdO4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__2q1A4\"};","import { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport styles from './Navigation.module.css';\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav className={styles.nav}>\r\n      <NavLink\r\n        to=\"/\"\r\n        exact\r\n        className={styles.link}\r\n        activeClassName={styles.activeLink}\r\n      >\r\n        Home\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          className={styles.link}\r\n          activeClassName={styles.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/default-icon2.f2391c21.png\";","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authOperations, authSelectors } from '../../redux/auth';\r\nimport defaultAvatar from './default-icon2.png';\r\nimport styles from './UserMenu.module.css';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUserName);\r\n  const avatar = defaultAvatar;\r\n  return (\r\n    <div className={styles.user}>\r\n      <img className={styles.img} src={avatar} width=\"32\" alt=\"avatar\" />\r\n      <p className={styles.text}>Welcome, {name}</p>\r\n      <button\r\n        className={styles.button}\r\n        type=\"button\"\r\n        variant=\"success\"\r\n        onClick={() => dispatch(authOperations.logOut())}\r\n      >\r\n        Exit\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { NavLink } from 'react-router-dom';\r\nimport styles from './AuthNav.module.css';\r\n\r\nconst AuthNav = () => (\r\n  <nav>\r\n    <NavLink to=\"/login\" className={styles.link} activeClassName={styles.activeLink}>\r\n      Login\r\n    </NavLink>\r\n\r\n    <NavLink\r\n      to=\"/register\"\r\n      className={styles.link}\r\n      activeClassName={styles.activeLink}\r\n    >\r\n      Register\r\n    </NavLink>\r\n  </nav>\r\n);\r\n\r\nexport default AuthNav;\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from './Navigation/Navigation';\r\nimport UserMenu from './userMenu/UserMenu';\r\nimport AuthNav from './AuthNav/AuthNav';\r\nimport { authSelectors } from '../redux/auth';\r\nimport styles from '../styles/AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  // console.log(isLoggedIn);\r\n  return (\r\n    <header className={styles.container}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n      {/* <AuthNav />\r\n      <UserMenu /> */}\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nexport default function PrivateRoute({\r\n  component: Component,\r\n  redirectTo,\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const iisLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {iisLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nexport default function PublicRoute({\r\n  //   component: Component,\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const iisLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = iisLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import Container from './Components/Container';\r\nimport AppBar from './Components/AppBar';\r\nimport { connect } from 'react-redux';\r\nimport { useEffect, Suspense, lazy } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { contactsOperations } from './redux/contacts';\r\nimport { Switch } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { authOperations, authSelectors } from './redux/auth';\r\nimport PrivateRoute from './Components/userMenu/PrivateRoute';\r\nimport PublicRoute from './Components/userMenu/PublicRoute';\r\n\r\nconst HomeView = lazy(() => import('./views/HomeView'));\r\nconst LoginView = lazy(() => import('./views/LoginView'));\r\nconst ContactsView = lazy(() => import('./views/ContactsView'));\r\nconst RegisterView = lazy(() => import('./views/RegisterView'));\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const isRefreshing = useSelector(authSelectors.getRefreshing);\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.fetchCarrentUser());\r\n  }, [dispatch]);\r\n\r\n  // useEffect(() => dispatch(contactsOperations.fetchContacts()), [dispatch]);\r\n\r\n  return (\r\n    !isRefreshing && (\r\n      <Container>\r\n        <AppBar />\r\n\r\n        <Switch>\r\n          <Suspense fallback={<p>Loading...</p>}>\r\n            <PublicRoute exact path=\"/\">\r\n              <HomeView />\r\n            </PublicRoute>\r\n\r\n            <PublicRoute exact path=\"/login\" redirectTo=\"/contacts\" restricted>\r\n              <LoginView />\r\n            </PublicRoute>\r\n\r\n            <PublicRoute exact path=\"/register\" restricted>\r\n              <RegisterView />\r\n            </PublicRoute>\r\n\r\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\r\n              <ContactsView />\r\n            </PrivateRoute>\r\n          </Suspense>\r\n        </Switch>\r\n      </Container>\r\n    )\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchContacts: () => dispatch(contactsOperations.fetchContacts()),\r\n});\r\nexport default connect(null, mapDispatchToProps)(App);\r\n// export default App;\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  changeFilter,\r\n  fetchContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n} from './contacts-action';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [fetchContactError]: (_, { payload }) => payload,\r\n  [fetchContactRequest]: () => null,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n  error,\r\n});\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport authOperations from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isRefreshing: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCarrentUser.pending](state) {\r\n      state.isRefreshing = true;\r\n    },\r\n    [authOperations.fetchCarrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n      state.isRefreshing = false;\r\n    },\r\n    [authOperations.fetchCarrentUser.rejected](state) {\r\n      state.isRefreshing = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\n// import logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsReducer from './contacts/contacts-reducer';\r\nimport authSlice from './auth/auth-slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  // logger,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authSlice),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n// const persistor = persistStore(store);\r\n\r\nexport const persistor = persistStore(store);\r\n// export default store;\r\n// eslint-disable-next-line no-undef\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './style.css';\r\nimport {} from './redux/contacts/contacts-types';\r\nimport { Provider } from 'react-redux';\r\nimport { store, persistor } from './redux/store';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}